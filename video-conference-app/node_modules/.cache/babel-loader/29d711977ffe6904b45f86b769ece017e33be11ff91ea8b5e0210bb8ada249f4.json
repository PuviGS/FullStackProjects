{"ast":null,"code":"var _jsxFileName = \"/home/puvi/Desktop/video-conference-app/client/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from 'react';\nimport { io } from 'socket.io-client';\nimport './styles.css'; // Ensure you create this file for styling\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst socket = io('http://localhost:5000'); // Replace with your server URL\n\nfunction App() {\n  _s();\n  const [streams, setStreams] = useState([]);\n  const [inRoom, setInRoom] = useState(false);\n  const [roomId, setRoomId] = useState('');\n  const [password, setPassword] = useState('');\n  const [errorMessage, setErrorMessage] = useState('');\n  const localVideoRef = useRef(null);\n  const handleJoinRoom = () => {\n    if (password === 'PH@1314') {\n      socket.emit('join-room', roomId, 'User_' + Math.floor(Math.random() * 100), password);\n      setInRoom(true);\n    } else {\n      setErrorMessage('Invalid password');\n    }\n  };\n  useEffect(() => {\n    socket.on('user-connected', (userId, joinTime) => {\n      const newStream = {\n        userId,\n        joinTime,\n        stream: 'mock-stream' // Placeholder for actual stream\n      };\n      setStreams(prev => [...prev, newStream]);\n    });\n    socket.on('user-disconnected', userId => {\n      setStreams(prev => prev.filter(stream => stream.userId !== userId));\n    });\n    return () => {\n      socket.off('user-connected');\n      socket.off('user-disconnected');\n    };\n  }, []);\n  useEffect(() => {\n    // Simulate local video stream\n    if (localVideoRef.current) {\n      localVideoRef.current.srcObject = new MediaStream(); // Placeholder for actual media stream\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: !inRoom ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"join-room\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Join Room\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Enter Room ID\",\n        value: roomId,\n        onChange: e => setRoomId(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"Enter Password\",\n        value: password,\n        onChange: e => setPassword(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleJoinRoom,\n        children: \"Join Room\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this), errorMessage && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"error\",\n        children: errorMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 28\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"video-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"local-video\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Your Video\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"video\", {\n          ref: localVideoRef,\n          autoPlay: true,\n          muted: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"remote-videos\",\n        children: streams.length > 0 ? streams.map((stream, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"remote-video\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: stream.userId\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Joined at: \", stream.joinTime]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"video-placeholder\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Video Stream Placeholder\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 19\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 17\n        }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No users in the room yet. Waiting for participants...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"sRNRpFPaCqdSNmlcejo8+oYiP5g=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","useRef","io","jsxDEV","_jsxDEV","socket","App","_s","streams","setStreams","inRoom","setInRoom","roomId","setRoomId","password","setPassword","errorMessage","setErrorMessage","localVideoRef","handleJoinRoom","emit","Math","floor","random","on","userId","joinTime","newStream","stream","prev","filter","off","current","srcObject","MediaStream","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","e","target","onClick","ref","autoPlay","muted","length","map","index","_c","$RefreshReg$"],"sources":["/home/puvi/Desktop/video-conference-app/client/src/App.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\nimport { io } from 'socket.io-client';\nimport './styles.css'; // Ensure you create this file for styling\n\nconst socket = io('http://localhost:5000'); // Replace with your server URL\n\nfunction App() {\n  const [streams, setStreams] = useState([]);\n  const [inRoom, setInRoom] = useState(false);\n  const [roomId, setRoomId] = useState('');\n  const [password, setPassword] = useState('');\n  const [errorMessage, setErrorMessage] = useState('');\n  const localVideoRef = useRef(null);\n\n  const handleJoinRoom = () => {\n    if (password === 'PH@1314') {\n      socket.emit('join-room', roomId, 'User_' + Math.floor(Math.random() * 100), password);\n      setInRoom(true);\n    } else {\n      setErrorMessage('Invalid password');\n    }\n  };\n\n  useEffect(() => {\n    socket.on('user-connected', (userId, joinTime) => {\n      const newStream = {\n        userId,\n        joinTime,\n        stream: 'mock-stream', // Placeholder for actual stream\n      };\n      setStreams((prev) => [...prev, newStream]);\n    });\n\n    socket.on('user-disconnected', (userId) => {\n      setStreams((prev) => prev.filter((stream) => stream.userId !== userId));\n    });\n\n    return () => {\n      socket.off('user-connected');\n      socket.off('user-disconnected');\n    };\n  }, []);\n\n  useEffect(() => {\n    // Simulate local video stream\n    if (localVideoRef.current) {\n      localVideoRef.current.srcObject = new MediaStream(); // Placeholder for actual media stream\n    }\n  }, []);\n\n  return (\n    <div className=\"app\">\n      {!inRoom ? (\n        <div className=\"join-room\">\n          <h2>Join Room</h2>\n          <input\n            type=\"text\"\n            placeholder=\"Enter Room ID\"\n            value={roomId}\n            onChange={(e) => setRoomId(e.target.value)}\n          />\n          <input\n            type=\"password\"\n            placeholder=\"Enter Password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n          />\n          <button onClick={handleJoinRoom}>Join Room</button>\n          {errorMessage && <p className=\"error\">{errorMessage}</p>}\n        </div>\n      ) : (\n        <div className=\"video-container\">\n          <div className=\"local-video\">\n            <h3>Your Video</h3>\n            <video ref={localVideoRef} autoPlay muted />\n          </div>\n          <div className=\"remote-videos\">\n            {streams.length > 0 ? (\n              streams.map((stream, index) => (\n                <div className=\"remote-video\" key={index}>\n                  <h4>{stream.userId}</h4>\n                  <p>Joined at: {stream.joinTime}</p>\n                  <div className=\"video-placeholder\">\n                    {/* Placeholder for remote video */}\n                    <p>Video Stream Placeholder</p>\n                  </div>\n                </div>\n              ))\n            ) : (\n              <p>No users in the room yet. Waiting for participants...</p>\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}